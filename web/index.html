<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Synaps</title>

    <style type="text/css">
        html,
        body {
            height: 100%;
            margin: 0px;
            padding: 0px;
            background-color: black;
        }

        #display-div {
            height: 100%;
            background-size: contain;
            background-repeat: no-repeat;
            color: white;
            font-size: 100px;
        }
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script>
        $(document).ready(function () {
            var _socket;

            function init() {
                var src = 'http://localhost:3003/';
                _socket = io(src);
                _socket.on('connect', function () {
                    console.log('connected')

                    _socket.on('current-user', function (data) {
                        $('#display-div').html(data);
                    });
                    _socket.on('frame', function (data) {
                        $('#current-img').prop('src', 'data:image/png;base64,' + data.buffer);
                    });
                });

                _socket.on('disconnect', function () {});
            }

            init();
        })
    </script>
</head>

<body>
    <div id="display-div">
    </div>
    <img id="current-img" src="https://i.ytimg.com/vi/lul-Y8vSr0I/hqdefault.jpg" />
</body>

</html>